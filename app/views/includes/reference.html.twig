<div class="row page" id="reference">
    <div class="col s12">
        {% for key,doc in docs %}
            <div class="row grey-text text-darken-2 reference {{ key }}">
                <div class="col s5 offset-s1 requests">
                    <h4 class="bold-text">Requests</h4>
                    <hr>
                    <div class="content">
                        <ul class="collapsible popout">
                            {% for route in doc %}
                                <li class="{{ route.method|lower }}">
                                    <div class="collapsible-header" onclick="window.location.href = '#/reference/{{ key }}/{{ route.title|lower|replace({' ': '-'}) }}'">
                                        <span class="bold-text">{{ route.endpoint }}</span> | <span>{{ route.title }}</span>
                                        {% if route.token %}
                                            <i class="material-icons posright tooltipped" data-position="right" data-tooltip="Secure route by Token">lock</i>
                                        {% endif %}
                                    </div>
                                </li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
                <div class="col s6 routes grey darken-4">
                    {% for route in doc %}
                        <div class="row route {{ route.title|lower|replace({' ': '-'}) }}">
                            <div class="col s12">
                                <nav class="breadcrumbs grey darken-3">
                                    <div class="nav-wrapper">
                                        <div class="col s12">
                                            <a class="breadcrumb">Reference</a>
                                            <a href="#/reference/{{ key|lower }}" class="breadcrumb">{{ key|capitalize }}</a>
                                            <a href="#/reference/{{ key|lower }}/{{ route.title|lower|replace({' ': '-'}) }}" class="breadcrumb">{{ route.title }}</a>
                                        </div>
                                    </div>
                                </nav>
                                <div class="endpoint z-depth-2 {{ route.method|lower }}">
                                    <div class="chip grey-text text-darken-3">
                                        {{ route.method|upper }}
                                    </div>
                                    <div class="url white-text">
                                        <span class="base-uri">{{ g_base_uri }}</span><span class="part-endpoint bold-text">{{ route.endpoint }}</span>
                                    </div>
                                </div>
                                <div class="content white-text">
                                    {% if route.params != null %}
                                        <div class="params">
                                            <h5 class="bold-text">Parameters</h5>
                                            <hr>
                                            <table class="highlight">
                                                <thead>
                                                <tr>
                                                    <th>Key</th>
                                                    <th>Type</th>
                                                    <th>Description</th>
                                                </tr>
                                                </thead>

                                                <tbody>
                                                {% for param in route.params %}
                                                    <tr>
                                                        <td>{{ param.key }}</td>
                                                        <td>{{ param.type }}</td>
                                                        <td>{{ param.description }}</td>
                                                    </tr>
                                                {% endfor %}
                                                </tbody>
                                            </table>
                                        </div>
                                    {% endif %}
                                    {% if route.request != null and (route.request.headers != null or route.request.body != null) %}
                                        <div class="request">
                                            <h5 class="bold-text">Request</h5>
                                            <hr>
                                            {% if route.request.headers != null %}
                                                <h6 class="bold-text">Headers</h6>
                                                <table class="highlight">
                                                    <thead>
                                                    <tr>
                                                        <th>Key</th>
                                                        <th>Value</th>
                                                    </tr>
                                                    </thead>

                                                    <tbody>
                                                    {% for header in route.request.headers %}
                                                        <tr>
                                                            <td>{{ header.key }}</td>
                                                            <td>{{ header.value }}</td>
                                                        </tr>
                                                    {% endfor %}
                                                    </tbody>
                                                </table>
                                            {% endif %}
                                            {% if route.request.body != null %}
                                                <h6 class="bold-text">Body</h6>
                                                <table class="highlight">
                                                    <thead>
                                                    <tr>
                                                        <th>Key</th>
                                                        <th>Type</th>
                                                        <th>Description</th>
                                                    </tr>
                                                    </thead>

                                                    <tbody>
                                                    {% for body in route.request.body %}
                                                        <tr>
                                                            <td>{{ body.key }}</td>
                                                            <td>{{ body.type }}</td>
                                                            <td>{{ body.description }}</td>
                                                        </tr>
                                                    {% endfor %}
                                                    </tbody>
                                                </table>
                                            {% endif %}
                                        </div>
                                    {% endif %}
                                    <div class="response">
                                        <h5 class="bold-text">Responses examples</h5>
                                        <hr>
                                        {% if route.response.headers != null %}
                                            <h6 class="bold-text">Headers</h6>
                                            <table class="highlight">
                                                <thead>
                                                <tr>
                                                    <th>Key</th>
                                                    <th>Value</th>
                                                </tr>
                                                </thead>

                                                <tbody>
                                                {% for header in route.response.headers %}
                                                    <tr>
                                                        <td>{{ header.key }}</td>
                                                        <td>{{ header.value }}</td>
                                                    </tr>
                                                {% endfor %}
                                                </tbody>
                                            </table>
                                        {% endif %}
                                        <h6 class="bold-text">Success</h6>
                                        <pre data-ref="{{ key|lower }}" class="json line-numbers success {{ key|lower }} {{ route.title|lower|replace({' ': '-'}) }}"><code class="language-javascript"></code></pre>
                                        <h6 class="bold-text">Error{{ attribute(route.response, 'body-error')|length > 1 ? 's' : '' }}</h6>
                                        {% for error in attribute(route.response, 'body-error') %}
                                            <pre class="json line-numbers error {{ key|lower }} {{ route.title|lower|replace({' ': '-'}) }}"><code class="language-javascript"></code></pre>
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        {% endfor %}
    </div>
</div>